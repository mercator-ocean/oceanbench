---
title: "OceanBench"
format:
  html:
    echo: false
    css: styles.css
    page-layout: full
---

Welcome to OceanBench.


```{python}
# | classes: plain

from IPython.display import display, HTML
from helpers.table import get_html_tables
from helpers.notebook_score_parser import get_model_score_from_notebook, get_model_score_from_file

REFERENCE_SCORE = get_model_score_from_notebook("https://minio.dive.edito.eu/project-oceanbench/public/evaluation-reports/0.0.1-alpha/glonet.report.ipynb")

dummy_score = get_model_score_from_file("_result_tables/dummy.json")

depths = list(REFERENCE_SCORE.depths.keys())
other_scores = [dummy_score]



for depth in depths:
    display(HTML(f"<h3>Model scores for {depth} (real value: {REFERENCE_SCORE.depths[depth].real_value})</h3>"))
    display(HTML(get_html_tables(REFERENCE_SCORE, depth, other_scores)))
```


```{python}
import matplotlib as mpl
from matplotlib import pyplot as plt
from IPython.display import display, HTML

display(HTML(f"<h3>Color scale used for displaying the results</h3>"))

fig, ax = plt.subplots(figsize=(8, 1), layout="constrained")

norm = mpl.colors.Normalize(vmin=-1, vmax=1)

fig.colorbar(
    mpl.cm.ScalarMappable(cmap="bwr", norm=norm),
    cax=ax,
    orientation="horizontal",
    extend="both",
    spacing="uniform",
    label="Difference in RMSE",
)

plt.show()
```
