---
title: "OceanBench"
format:
  html:
    code-fold: true
    theme: none
    css: styles.css
---

Welcome to OceanBench.



```{python}
# | classes: plain

import pandas as pd
import numpy as np
from IPython.display import display, HTML
import json

variables = [
    "Surface temperature",
    "50m temperature",
    "Surface salinity",
    "50m salinity",
    "Surface height",
    "Surface northward velocity",
    "50m northward velocity",
    "Surface eastward velocity",
    "50m eastward velocity",
]
models = ["glonet", "glonet", "glonet"]
lead_day_indexes = ["1", "3", "5", "7", "9"]

html_table = "<table>"
html_table_caption = "<caption>Model scores</caption>"
html_table_head = (
    "<thead><tr class='sticky'>"
    + "<th class='sticky' style='background: #f5f5f5'>Model</th>"
    + "".join(
        [
            f"<td colspan='{len(lead_day_indexes)}'>{variable}</td>"
            for variable in variables
        ]
    )
    + "</tr></thead>"
)
html_table_body = "<tbody>"

for model in models:
    scores = json.load(open(f"_result_tables/{model}.json"))
    html_model_row = (
        f"<tr><th class='sticky' style='background: #f5f5f5'>{model}</th>"
    )
    for variable in variables:
        values = scores[variable]
        html_model_row += "".join(
            [
                f"<td>{values[lead_day_index]}</td>"
                for lead_day_index in lead_day_indexes
            ]
        )
    html_model_row += "</tr>"
    html_table_body += html_model_row

html_table_body += "</tbody>"

html_table_footer = (
    "<tfoot><tr class='sticky'>"
    + "<th class='sticky' style='background: #f5f5f5'>Lead time</th>"
    + "".join(
        [f"<td>{lead_day_index}</td>" for lead_day_index in lead_day_indexes]
        * len(variables)
    )
    + "</tr></tfoot>"
)

html_table = f"<table>{html_table_caption}{html_table_head}{html_table_body}{html_table_footer}</table>"
display(HTML(html_table))
```
