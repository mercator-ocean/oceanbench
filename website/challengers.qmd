<!--
SPDX-FileCopyrightText: 2025 Mercator Ocean International <https://www.mercator-ocean.eu/>

SPDX-License-Identifier: EUPL-1.2
-->

---
title: "Challengers"
jupyter: python3
format:
  html:
    echo: false
---

```{python}
#| output: asis

from helpers.challenger_metadata import CHALLENGERS
from helpers.s3_discovery import discover_challengers

challengers = discover_challengers()

header = (
    "| System | Organisation | Method | Forecast type | Initial conditions | Output resolution | Report |\n"
    "|--------|--------------|--------|---------------|--------------------|-------------------|--------|\n"
)

def format_row(name):
    meta = CHALLENGERS.get(name)
    if meta:
        system = f"[{meta['label']}]({meta['url']})"
        org = f"[{meta['organisation']}]({meta['org_url']})"
        return f"| {system} | {org} | {meta['method']} | {meta['forecast_type']} | {meta['initial_conditions']} | {meta['resolution']} | [Report](reports/{name}.report.html) |"
    return f"| {name} |  |  |  |  |  | [Report](reports/{name}.report.html) |"

rows = "\n".join(map(format_row, challengers))

print(header + rows)
```
